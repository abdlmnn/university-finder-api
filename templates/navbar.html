<!-- Navigation Bar -->
<nav
  style="
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    padding: 15px 0;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
  "
>
  <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px">
    <div
      style="display: flex; justify-content: space-between; align-items: center"
    >
      <!-- Logo/Brand -->
      <a
        href="/"
        style="
          font-size: 1.5rem;
          font-weight: 700;
          color: #4a5568;
          text-decoration: none;
          display: flex;
          align-items: center;
          gap: 10px;
        "
      >
        <i class="fas fa-graduation-cap" style="color: #667eea"></i>
        University Finder
      </a>

      <!-- Navigation Links -->
      <div style="display: flex; align-items: center; gap: 20px">
        <a
          href="/"
          style="
            color: #4a5568;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
          "
          onmouseover="this.style.background='rgba(102, 126, 234, 0.1)'; this.style.color='#667eea'"
          onmouseout="this.style.background='transparent'; this.style.color='#4a5568'"
        >
          <i class="fas fa-home" style="margin-right: 8px"></i>Home
        </a>

        {% if user.is_authenticated %}
        <a
          href="/favorites/"
          style="
            color: #4a5568;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
          "
          onmouseover="this.style.background='rgba(102, 126, 234, 0.1)'; this.style.color='#667eea'"
          onmouseout="this.style.background='transparent'; this.style.color='#4a5568'"
        >
          <i class="fas fa-heart" style="margin-right: 8px"></i>Favorites
        </a>
        {% endif %}

        <!-- User Menu -->
        {% if user.is_authenticated %}
        <div style="position: relative">
          <button
            onclick="toggleUserMenu()"
            style="
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              border: none;
              color: white;
              padding: 8px 16px;
              border-radius: 8px;
              font-weight: 500;
              cursor: pointer;
              display: flex;
              align-items: center;
              gap: 8px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 5px 15px rgba(102, 126, 234, 0.4)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
          >
            <i class="fas fa-user"></i>
            {{ user.get_full_name|default:user.username }}
            <i class="fas fa-chevron-down" style="font-size: 0.8rem"></i>
          </button>

          <div
            id="userMenu"
            style="
              position: absolute;
              top: 100%;
              right: 0;
              background: rgba(255, 255, 255, 0.95);
              backdrop-filter: blur(10px);
              border-radius: 12px;
              box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
              padding: 10px 0;
              min-width: 150px;
              display: none;
              margin-top: 8px;
              border: 1px solid rgba(255, 255, 255, 0.2);
            "
          >
            <a
              href="/accounts/logout/"
              style="
                display: block;
                padding: 10px 20px;
                color: #c53030;
                text-decoration: none;
                font-weight: 500;
                transition: all 0.3s ease;
              "
              onmouseover="this.style.background='rgba(197, 48, 48, 0.1)'"
              onmouseout="this.style.background='transparent'"
            >
              <i class="fas fa-sign-out-alt" style="margin-right: 8px"></i
              >Logout
            </a>
          </div>
        </div>
        {% else %}
        <a
          href="/accounts/login/"
          style="
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
          "
          onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 5px 15px rgba(102, 126, 234, 0.4)'"
          onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
        >
          <i class="fas fa-sign-in-alt" style="margin-right: 8px"></i>Login
        </a>

        <a
          href="/accounts/signup/"
          style="
            background: transparent;
            color: #667eea;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            border: 2px solid #667eea;
            transition: all 0.3s ease;
          "
          onmouseover="this.style.background='#667eea'; this.style.color='white'"
          onmouseout="this.style.background='transparent'; this.style.color='#667eea'"
        >
          <i class="fas fa-user-plus" style="margin-right: 8px"></i>Sign Up
        </a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleUserMenu() {
    const menu = document.getElementById("userMenu");
    menu.style.display = menu.style.display === "block" ? "none" : "block";
  }

  // Close menu when clicking outside
  document.addEventListener("click", function (event) {
    const menu = document.getElementById("userMenu");
    const button = event.target.closest("button");
    if (menu && menu.style.display === "block" && !button) {
      menu.style.display = "none";
    }
  });
</script>
